### 函数是根基

javaScript是一门函数式语言(functional language)   

在JavaScript中，函数是第一型对象(first-class object)，可以将其视为其他任意类型的JavaScript对象

##### 函数是第一型对象

对象在JavaScript中有如下功能   

- 可以通过字面量进行创建
- 可以复制给变量、数组或其他对象的属性
- 可以作为参数传递给函数
- 可以作为函数的返回值进行返回
- 可以拥有动态创建并赋值的属性

JavaScript中，函数拥有全部这些功能，可以像这门语言的其他对象一样使用，因此，函数是第一型(first-class)对象

除了可以像其他对象类型一样使用外，函数还有一个特殊的功能，它们可以被调用(invoked).

这些调用，通常是以异步方式(asynchronous)进行调用。

#### 浏览器的事件轮询

图形用户界面(GUI)的桌面应用程序编程，大多数都是采用类似如下的方式

- 创建用户界面
- 进入轮询，等待事件触发
- 调用事件的处理程序(侦听器[listener])


我们的职责是为浏览器中发生的各种事件简历事件的处理程序(handler),这些事件在触发时被放置在一个事件队列(先进先出列表[FIFO])，然后浏览器将调用已经为这些事件建立好的处理程序(handler)

因为这些事件发生的事件和顺序都是不可预知的，所以事件处理函数的调用也是异步的

以下类型的事件都有可能互相穿插发生

- 浏览器事件，如当一个页面完成加载或卸载的时候
- 网络事件，如响应Ajax请求
- 用户事件，如鼠标单击、鼠标移动或者按键
- 计时器事件，如超时或计时器触发


浏览器的事件轮询是单线程(single-threaded)的，每个事件都是按照在队列中所放置的顺序来处理的，这就是所谓的FIFO(先进后出)列表，或者一个使用古老定时器的筒仓(silo).每个事件都在自己的生命周期内进行处理，所有其他事件必须等到这个时间处理结束以后才能继续处理，在任何情况下，单线程都不能同时执行两个处理程序。


#### 回调概念

定义一个函数，以便其他一些代码在适当的时机回头再调用它

举个栗子： function useless(callback){ return callback(); }

#### 使用比较器进行排序

Java和JavaScript都提供了一个简单的方式对数组进行升序排序  
Java代码

```java  
	
Integer[] values = { 213, 16, 2058, 54, 10, 1965, 57, 9};
Array.sort(values);
```

JavaScript版本代码

```JavaScript

var values = [213, 16, 2058, 54, 10, 1965, 57, 9 ];
values.sort();

```

为了能够对数据进行任意顺序的排序，这两种语言都给我们提供了一个比较算法，告诉该算法如何进行排序。我们没有让排序算法决定什么样的值应该排在前面还是后面，而是提供了一个函数进行排序比较，将排序算法作为回调传递给该函数，并在需要比较时进行调用，这一概念在这两种语言中都是相似的，但实现却大为不同。